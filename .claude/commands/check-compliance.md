# /check-compliance - 선거법 검수

텍스트의 선거법 준수 여부를 검사합니다.

## 사용법

```
/check-compliance <텍스트>
/check-compliance --file <파일경로>
/check-compliance --status 준비       # 특정 상태로 검수
```

## 검수 항목

### 1. 범용 금지어 (모든 단계)

| 패턴 | 심각도 | 이유 |
|------|--------|------|
| 기호 N번 | critical | 기호 표시 금지 |
| 빨갱이/종북/수꼴 | critical | 혐오 표현 |
| 사기꾼/착복/횡령/뇌물 | critical | 명예훼손 위험 |

### 2. 준비/예비후보 단계 금지어

| 패턴 | 치환 | 심각도 |
|------|------|--------|
| 투표해 주세요 | 관심 가져주세요 | high |
| 당선 시키/되면 | 함께 해주시면 | high |
| 공약 이행/약속 | 정책 방향 제시 | high |
| 저를 뽑아/선택해 주세요 | 관심 가져주세요 | high |

### 3. 후보자 단계 주의어

| 패턴 | 심각도 | 이유 |
|------|--------|------|
| 경쟁/상대 후보 | medium | 비방 위험 |
| 상대 진영/당 | medium | 비방 위험 |

### 4. 정치적 리스크

| 패턴 | 심각도 | 이유 |
|------|--------|------|
| 명백한 거짓/새빨간 거짓말 | high | 명예훼손 |
| 무능/무책임한 정부 | medium | 과격한 비판 |
| 망했/망조/파탄 | medium | 과격한 표현 |

### 5. 환각(Hallucination) 검수

프로필과 불일치하는 표현 검출:
- 미혼/자녀 없음인데 "우리 아이", "자녀 교육" 언급
- 원외 인사인데 "의원으로서" 언급

## 출력 형식

```markdown
## 선거법 검수 결과

**상태**: 준비
**통과 여부**: ❌ 불통과

### 발견된 이슈 (3건)

1. **[critical]** "기호 1번" - 기호 표시 금지
   - 위치: 3번째 문단
   - 조치: 삭제됨

2. **[high]** "투표해 주세요" - 사전선거운동 금지
   - 위치: 마지막 문단
   - 조치: "관심 가져주세요"로 치환

3. **[medium]** "무능한 정부" - 과격한 비판
   - 위치: 2번째 문단
   - 조치: 경고 (수동 검토 권장)

### 검수 점수: 4/10

### 수정된 텍스트
[치환 적용된 텍스트 출력]
```

## 관련 코드

- `functions/services/agents/compliance-agent.js`
- `functions/prompts/guidelines/legal.js`
- `functions/prompts/guidelines/framingRules.js`
